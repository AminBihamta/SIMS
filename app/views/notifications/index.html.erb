<div class="container mx-auto p-4">
  <a href="/borrowings" class="back-button">‚Üê Back to Borrowing Page</a>

  <h1 class="text-2xl font-bold mb-4">Notifications History</h1>

  <table class="min-w-full">
    <thead>
      <tr>
        <th class="px-4 py-2">Message</th>
        <th class="px-4 py-2">Status</th>
        <th class="px-4 py-2">Triggered At</th>
        <th class="px-4 py-2">Actions</th>
      </tr>
    </thead>
    <tbody>
      <% @notifications.each do |notification| %>
        <tr>
          <td class="border px-4 py-2"><%= notification.message %></td>
          <td class="border px-4 py-2"><%= notification.status.titleize %></td>
          <td class="border px-4 py-2"><%= notification.triggered_at.strftime("%B %d, %Y %H:%M") %></td>
          <td class="border px-4 py-2">
            <% if notification.status == "pending" %>
              <%= button_to "Send to PIC", 
                  send_to_pic_notification_path(notification), 
                  method: :post,
                  class: "btn btn-primary hover:bg-blue-700" %>
            <% elsif notification.status == "delivered" %>
              <button class="btn btn-secondary cursor-not-allowed opacity-50" disabled>
                Notification Sent
              </button>
            <% end %>
          </td>
        </tr>
      <% end %>
    </tbody>
  </table>
</div>